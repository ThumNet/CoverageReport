// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>
// This work is free. You can redistribute it and/or modify it
// under the terms of the WTFPL, Version 2
// For more information see LICENSE.txt or http://www.wtfpl.net/
//
// For more information, the home page:
// http://pieroxy.net/blog/pages/lz-string/testing.html
//
// LZ-based compression algorithm, version 1.4.4
var LZString=function(){var g=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",t={};function i(r,o){if(!t[r]){t[r]={};for(var n=0;n<r.length;n++)t[r][r.charAt(n)]=n}return t[r][o]}var s={compressToBase64:function(r){if(null==r)return"";var o=s._compress(r,6,function(r){return n.charAt(r)});switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}},decompressFromBase64:function(o){return null==o?"":""==o?null:s._decompress(o.length,32,function(r){return i(n,o.charAt(r))})},compressToUTF16:function(r){return null==r?"":s._compress(r,15,function(r){return g(r+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:s._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(r){for(var o=s.compress(r),n=new Uint8Array(2*o.length),e=0,t=o.length;e<t;e++){var i=o.charCodeAt(e);n[2*e]=i>>>8,n[2*e+1]=i%256}return n},decompressFromUint8Array:function(r){if(null==r)return s.decompress(r);for(var o=new Array(r.length/2),n=0,e=o.length;n<e;n++)o[n]=256*r[2*n]+r[2*n+1];var t=[];return o.forEach(function(r){t.push(g(r))}),s.decompress(t.join(""))},compressToEncodedURIComponent:function(r){return null==r?"":s._compress(r,6,function(r){return e.charAt(r)})},decompressFromEncodedURIComponent:function(o){return null==o?"":""==o?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(r){return i(e,o.charAt(r))}))},compress:function(r){return s._compress(r,16,function(r){return g(r)})},_compress:function(r,o,n){if(null==r)return"";var e,t,i,s={},u={},a="",p="",c="",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<r.length;i+=1)if(a=r.charAt(i),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=f++,u[a]=!0),p=c+a,Object.prototype.hasOwnProperty.call(s,p))c=p;else{if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==o-1?(v=0,d.push(n(m)),m=0):v++;for(t=c.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=c.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete u[c]}else for(t=s[c],e=0;e<h;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),s[p]=f++,c=String(a)}if(""!==c){if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==o-1?(v=0,d.push(n(m)),m=0):v++;for(t=c.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=c.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete u[c]}else for(t=s[c],e=0;e<h;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==o-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==o-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:s._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,o,n){var e,t,i,s,u,a,p,c=[],l=4,f=4,h=3,d="",m=[],v={val:n(0),position:o,index:1};for(e=0;e<3;e+=1)c[e]=e;for(i=0,u=Math.pow(2,2),a=1;a!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=o,v.val=n(v.index++)),i|=(0<s?1:0)*a,a<<=1;switch(i){case 0:for(i=0,u=Math.pow(2,8),a=1;a!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=o,v.val=n(v.index++)),i|=(0<s?1:0)*a,a<<=1;p=g(i);break;case 1:for(i=0,u=Math.pow(2,16),a=1;a!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=o,v.val=n(v.index++)),i|=(0<s?1:0)*a,a<<=1;p=g(i);break;case 2:return""}for(t=c[3]=p,m.push(p);;){if(v.index>r)return"";for(i=0,u=Math.pow(2,h),a=1;a!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=o,v.val=n(v.index++)),i|=(0<s?1:0)*a,a<<=1;switch(p=i){case 0:for(i=0,u=Math.pow(2,8),a=1;a!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=o,v.val=n(v.index++)),i|=(0<s?1:0)*a,a<<=1;c[f++]=g(i),p=f-1,l--;break;case 1:for(i=0,u=Math.pow(2,16),a=1;a!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=o,v.val=n(v.index++)),i|=(0<s?1:0)*a,a<<=1;c[f++]=g(i),p=f-1,l--;break;case 2:return m.join("")}if(0==l&&(l=Math.pow(2,h),h++),c[p])d=c[p];else{if(p!==f)return null;d=t+t.charAt(0)}m.push(d),c[f++]=t+d.charAt(0),t=d,0==--l&&(l=Math.pow(2,h),h++)}}};return s}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module?module.exports=LZString:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return LZString});